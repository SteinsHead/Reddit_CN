### 贴吧的细节片段设计

+ 等级（需要和经验挂钩，此等级需要版主进行设定，每一个板块的等级都是不相同的，但是需要升级的经验量是相同的）
+ 称号（成就系统：有成就任务，可以获得稀有成就和稀有成就，史诗成就）
+ 警告值
+ 状态
+ 金币（用来在贴吧系统里购买一些服务...暂定，获得金币的途径是通过举报违反社区规定的行为来获得）

### 贴吧的板块设计

+ 板块、帖子、评论、分区（在板块之上的分区）



### 贴吧的用户状态

+ 置顶、普通、封禁（可以使用自己的金币购买免死金牌）



# 模块化



# 项目简介

我们的项目主要是想要自己搭建一个贴吧论坛系统，从互联网刚刚诞生，论坛就随之产生了出来，大量的网民彼此陌生，但是通过论坛，大家了解彼此的爱好，讨论彼此热爱的事物，互联网将大家连接了起来，尽管随着互联网的进一步发展，QQ，微信，line，facebook，twitter，Instagram这样的交流工具越来越多，大家似乎忘记了论坛曾经给大家带来的连结，但是仍然有许多人还是想要在论坛中发表自己的看法，因为论坛不仅仅是一种工具，更是一种生态环境，这是简简单单一个交流软件代替不了的，还有一个重要的特质是：交流工具是以熟悉的人作为出发点，来扩展你的人脉和朋友圈，但是论坛在诞生之初就是陌生人互相认识的圣地，大家彼此陌生，但是最终能碰撞出友情的火花，这是许多软件代替不了的，因此我们项目的设想是做出一个任何想要建立自己感兴趣的贴吧的人都能够轻松建立自己的理想国度

# 人员设置

+ 管理员：负责管理后台，以及处理贴吧各个板块发生的事件，对于帖子的管理有最高决定权，对于人员的权限也有决定权
+ 版主：管理自己的板块，对于自己板块帖子的管理有次于管理员的决定权，任何权利的使用都需要管理员的同意
+ 贴主：拥有发帖的权利，对于楼层有管理的权利
+ 楼主：有开楼的权利，在所有的人员中，他只能对于楼层中的对话有管理权限
+ 水军：之所以叫水军是因为不知道这种在楼层中的水货应该怎么称呼，只能在楼层中发表意见
+ 需要注意的是：贴主和楼主以及水军这三个角色之间的转换是非常频繁的，由于大家都有发帖和开楼的权利，因此这一部分是不需要管理员和版主的实时管理的，我们只需要让后台自动判断即可，但是对于版主的设立，是必须经过管理员的同意才能设定的，另外，关于管理员团队的组成，这个还需要后期的探讨

# 贴吧运作流程

+ 用户需要注册，注册时需要提供手机号，用户设定用户名和密码，手机号用作用户忘记密码时的修改密码工具

+ 管理员需要登录，后台自动给予管理员权限，首先管理员拥有一个可视化的操作面板，可以对于贴吧的板块，帖子，人员进行一个可视化的数据获取和操作，管理员的所有操作都是在操作面板完成的
+ 拥有版主权限的人员需要登录后才能被后台认证为版主，版主需要向管理员申请开辟一个板块，只有当前没有重名且重复内容的板块存在时，才能成功向管理员进行申请，申请之后需要等待管理员的审批，审批通过之后申请人自动成为该新板块的版主，拥有管理该板块的权限
+ 贴主可以在板块中发帖，发帖的人员只要是普通用户登录之后就可以成为该权限的所有者，发帖之后可以进行帖子的管理和维护，包括对于不合法的楼层进行删除
+ 楼主只要是普通用户就可以成为，只要在某一帖子中进行发言开楼就能成为楼主
+ 水军非常的简单，只要是在楼层中进行发言就可以成为水军

# 人员身份转换及权限转换图

+ 身份和权限图如下所示
+ ![](https://cdn.jsdelivr.net/gh/SteinsHead/ImageBed/img/2020/人员身份管理.jpg)

# 原型图

### 贴吧首页

![贴吧首页](E:\Raddit-cn\image\贴吧首页.jpg)

### 个人资料页面

![我的](E:\Raddit-cn\image\我的.png)

### 消息页面

![消息](E:\Raddit-cn\image\消息.png)

### 首页登陆

![首页登录](E:\Raddit-cn\image\首页登录.png)

### 帖子页面

![帖子](E:\Raddit-cn\image\帖子.png)

### 成就页面

![成就](E:\Raddit-cn\image\成就.png)

### 管理员板块

![管理员板块](E:\Raddit-cn\image\管理员板块.jpg)

### 板块页面

![板块](E:\Raddit-cn\image\板块.png)

# 后端设计

+ 数据库设计

  User—用户表：用来记录用户的各种个人信息及账号密码等

  Section—版块表：用来记录各版块的基础信息

  SectionUser—版块用户表：用来记录关注过此版块的用户的详细信息

  SectionPost—版块发帖表：用来记录版块中用户发出的贴的详细信息

  PostFloor—发帖楼层表：用来记录发帖中各楼层的内容及其详细信息

  PostReply—发帖回复表：用来记录发帖中对于楼层的回复内容及其详细信息

+ SpringBoot Respository层设计

  本层主要采用两种框架：JPA与Mybaits

  JPA：负责管理User表与Section，由于是静态表，方便增删查改等方法的使用。

  Mybaits：负责管理SectionUser表，SectionPost表，PostFloor表及PostReply表。由于这四个表需要根据用户需求动态生成，所以用Mybatis更容易来处理这些动态表。

+ 后端动态表的详细规划

  所有动态表均以Section表为父类，并具有版块唯一标识sId，Section中每有一条数据也就是用户所创建的每一个新版块，后端都会为其创造唯一的SectionUser表及SectionPost表作为其子类，并将其命名为SectionUser_sId100001表和SectionPost_sId100001表，可以把上面的这两个表视作为模板（SectionUser表及SectionPost表），SectionUser_sId100001表和SectionPost_sId100001表为版块的唯一指定复制表（这里100001为示例），方便各版块之间的隔离与区分。

  理解了上面这些内容，就更好去理解PostFloor表和PostReply表的作用。更上文一样，对于SectionPost表中的每一条数据也就是用户所创建的每一个贴，后端都会为其创造其唯一的PostFloor表和PostReply表作为其子类，由于上文中讲到SectionPost表仅为模板，在实际使用中SectionPost表应该是带后缀的形式（SectionPost_sId100001表），所以在创建出的表的名字应该为PostFloor _sId100001_spId100001表和PostReply _sId100001_spId100001表（这里100001为示例）。这样方便各个贴之间数据的隔离与区分。

  ​    总结一下，以Section表为父表，对其每条数据都会生成以SectionUser表及SectionPost表视为模板的唯一复制表，又以SectionPost为父表，对其每条数据都会生成以PostFloor表和PostReply表视为模板的唯一复制表。层层嵌套，依次创建。





